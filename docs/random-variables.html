<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introduction to Data Science</title>
  <meta name="description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with dplyr, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Introduction to Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with dplyr, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction to Data Science" />
  
  <meta name="twitter:description" content="This book introduces concepts and skills that can help you tackle real-world data analysis challenges. It covers concepts from probability, statistical inference, linear regression and machine learning and helps you develop skills such as R programming, data wrangling with dplyr, data visualization with ggplot2, file organization with UNIX/Linux shell, version control with GitHub, and reproducible document preparation with R markdown." />
  

<meta name="author" content="Rafael A. Irizarry">


<meta name="date" content="2018-06-04">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="continuous-probability.html">
<link rel="next" href="case-study-the-big-short.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#case-studies"><i class="fa fa-check"></i><b>1.1</b> Case Studies</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#who-will-find-this-book-useful"><i class="fa fa-check"></i><b>1.2</b> Who Will Find This Book Useful?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#what-does-this-book-cover"><i class="fa fa-check"></i><b>1.3</b> What Does This Book Cover?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#what-is-not-covered-by-this-book"><i class="fa fa-check"></i><b>1.4</b> What is Not Covered by This Book?</a></li>
</ul></li>
<li class="part"><span><b>I R Basics</b></span></li>
<li class="chapter" data-level="2" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="motivating-case-study.html"><a href="motivating-case-study.html"><i class="fa fa-check"></i><b>3</b> Motivating case study</a></li>
<li class="chapter" data-level="4" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>4</b> Getting Started</a><ul>
<li class="chapter" data-level="4.1" data-path="getting-started.html"><a href="getting-started.html#why-r"><i class="fa fa-check"></i><b>4.1</b> Why R?</a></li>
<li class="chapter" data-level="4.2" data-path="getting-started.html"><a href="getting-started.html#installing-r"><i class="fa fa-check"></i><b>4.2</b> Installing R</a></li>
<li class="chapter" data-level="4.3" data-path="getting-started.html"><a href="getting-started.html#the-r-console"><i class="fa fa-check"></i><b>4.3</b> The R console</a></li>
<li class="chapter" data-level="4.4" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>4.4</b> Scripts</a></li>
<li class="chapter" data-level="4.5" data-path="getting-started.html"><a href="getting-started.html#installing-rstudio"><i class="fa fa-check"></i><b>4.5</b> Installing RStudio</a></li>
<li class="chapter" data-level="4.6" data-path="getting-started.html"><a href="getting-started.html#the-r-ecosystem"><i class="fa fa-check"></i><b>4.6</b> The R ecosystem</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-very-basics.html"><a href="the-very-basics.html"><i class="fa fa-check"></i><b>5</b> The very basics</a><ul>
<li class="chapter" data-level="5.1" data-path="the-very-basics.html"><a href="the-very-basics.html#objects"><i class="fa fa-check"></i><b>5.1</b> Objects</a></li>
<li class="chapter" data-level="5.2" data-path="the-very-basics.html"><a href="the-very-basics.html#the-workspace"><i class="fa fa-check"></i><b>5.2</b> The workspace</a></li>
<li class="chapter" data-level="5.3" data-path="the-very-basics.html"><a href="the-very-basics.html#functions"><i class="fa fa-check"></i><b>5.3</b> Functions</a></li>
<li class="chapter" data-level="5.4" data-path="the-very-basics.html"><a href="the-very-basics.html#other-prebuilt-objects"><i class="fa fa-check"></i><b>5.4</b> Other prebuilt objects</a></li>
<li class="chapter" data-level="5.5" data-path="the-very-basics.html"><a href="the-very-basics.html#variable-names"><i class="fa fa-check"></i><b>5.5</b> Variable names</a></li>
<li class="chapter" data-level="5.6" data-path="the-very-basics.html"><a href="the-very-basics.html#saving-your-workspace"><i class="fa fa-check"></i><b>5.6</b> Saving your workspace</a></li>
<li class="chapter" data-level="5.7" data-path="the-very-basics.html"><a href="the-very-basics.html#scripts-1"><i class="fa fa-check"></i><b>5.7</b> Scripts</a></li>
<li class="chapter" data-level="5.8" data-path="the-very-basics.html"><a href="the-very-basics.html#comments"><i class="fa fa-check"></i><b>5.8</b> Comments</a></li>
<li class="chapter" data-level="" data-path="the-very-basics.html"><a href="the-very-basics.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>6</b> Data types</a><ul>
<li class="chapter" data-level="6.1" data-path="data-types.html"><a href="data-types.html#data-frames"><i class="fa fa-check"></i><b>6.1</b> Data frames</a></li>
<li class="chapter" data-level="6.2" data-path="data-types.html"><a href="data-types.html#examining-an-object"><i class="fa fa-check"></i><b>6.2</b> Examining an object</a></li>
<li class="chapter" data-level="6.3" data-path="data-types.html"><a href="data-types.html#the-accessor"><i class="fa fa-check"></i><b>6.3</b> The accessor</a></li>
<li class="chapter" data-level="6.4" data-path="data-types.html"><a href="data-types.html#vectors-numerics-characters-and-logical"><i class="fa fa-check"></i><b>6.4</b> Vectors: numerics, characters, and logical</a></li>
<li class="chapter" data-level="6.5" data-path="data-types.html"><a href="data-types.html#factors"><i class="fa fa-check"></i><b>6.5</b> Factors</a></li>
<li class="chapter" data-level="6.6" data-path="data-types.html"><a href="data-types.html#lists"><i class="fa fa-check"></i><b>6.6</b> Lists</a></li>
<li class="chapter" data-level="" data-path="data-types.html"><a href="data-types.html#exercises-1"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>7</b> Vectors</a><ul>
<li class="chapter" data-level="7.1" data-path="vectors.html"><a href="vectors.html#creating-vectors"><i class="fa fa-check"></i><b>7.1</b> Creating vectors</a></li>
<li class="chapter" data-level="7.2" data-path="vectors.html"><a href="vectors.html#names"><i class="fa fa-check"></i><b>7.2</b> Names</a></li>
<li class="chapter" data-level="7.3" data-path="vectors.html"><a href="vectors.html#sequences"><i class="fa fa-check"></i><b>7.3</b> Sequences</a></li>
<li class="chapter" data-level="7.4" data-path="vectors.html"><a href="vectors.html#subsetting"><i class="fa fa-check"></i><b>7.4</b> Subsetting</a></li>
<li class="chapter" data-level="7.5" data-path="vectors.html"><a href="vectors.html#coercion"><i class="fa fa-check"></i><b>7.5</b> Coercion</a></li>
<li class="chapter" data-level="7.6" data-path="vectors.html"><a href="vectors.html#not-availables-na"><i class="fa fa-check"></i><b>7.6</b> Not Availables (NA)</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercises-2"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="sorting.html"><a href="sorting.html"><i class="fa fa-check"></i><b>8</b> Sorting</a><ul>
<li class="chapter" data-level="8.1" data-path="sorting.html"><a href="sorting.html#sort"><i class="fa fa-check"></i><b>8.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="8.2" data-path="sorting.html"><a href="sorting.html#order"><i class="fa fa-check"></i><b>8.2</b> <code>order</code></a></li>
<li class="chapter" data-level="8.3" data-path="sorting.html"><a href="sorting.html#max-and-which.max"><i class="fa fa-check"></i><b>8.3</b> <code>max</code> and <code>which.max</code></a></li>
<li class="chapter" data-level="8.4" data-path="sorting.html"><a href="sorting.html#rank"><i class="fa fa-check"></i><b>8.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="8.5" data-path="sorting.html"><a href="sorting.html#beware-of-recycling"><i class="fa fa-check"></i><b>8.5</b> Beware of recycling</a></li>
<li class="chapter" data-level="" data-path="sorting.html"><a href="sorting.html#exercise"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html"><i class="fa fa-check"></i><b>9</b> Vector arithmetics</a><ul>
<li class="chapter" data-level="9.1" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html#rescaling"><i class="fa fa-check"></i><b>9.1</b> Rescaling</a></li>
<li class="chapter" data-level="9.2" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html#two-vectors"><i class="fa fa-check"></i><b>9.2</b> Two vectors</a></li>
<li class="chapter" data-level="" data-path="vector-arithmetics.html"><a href="vector-arithmetics.html#exercises-3"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="indexing.html"><a href="indexing.html"><i class="fa fa-check"></i><b>10</b> Indexing</a><ul>
<li class="chapter" data-level="10.1" data-path="indexing.html"><a href="indexing.html#subsetting-with-logicals"><i class="fa fa-check"></i><b>10.1</b> Subsetting with logicals</a></li>
<li class="chapter" data-level="10.2" data-path="indexing.html"><a href="indexing.html#logical-operators"><i class="fa fa-check"></i><b>10.2</b> Logical operators</a></li>
<li class="chapter" data-level="10.3" data-path="indexing.html"><a href="indexing.html#which"><i class="fa fa-check"></i><b>10.3</b> <code>which</code></a></li>
<li class="chapter" data-level="10.4" data-path="indexing.html"><a href="indexing.html#match"><i class="fa fa-check"></i><b>10.4</b> <code>match</code></a></li>
<li class="chapter" data-level="10.5" data-path="indexing.html"><a href="indexing.html#in"><i class="fa fa-check"></i><b>10.5</b> <code>%in%</code></a></li>
<li class="chapter" data-level="" data-path="indexing.html"><a href="indexing.html#exercises-4"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html"><i class="fa fa-check"></i><b>11</b> Basic data wrangling</a><ul>
<li class="chapter" data-level="11.1" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#adding-a-column-with-mutate"><i class="fa fa-check"></i><b>11.1</b> Adding a column with <code>mutate</code></a></li>
<li class="chapter" data-level="11.2" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#subsetting-with-filter"><i class="fa fa-check"></i><b>11.2</b> Subsetting with <code>filter</code></a></li>
<li class="chapter" data-level="11.3" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#selecting-columns-with-select"><i class="fa fa-check"></i><b>11.3</b> Selecting columns with <code>select</code></a></li>
<li class="chapter" data-level="11.4" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#the-pipe"><i class="fa fa-check"></i><b>11.4</b> The pipe: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="11.5" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#creating-a-data-frame"><i class="fa fa-check"></i><b>11.5</b> Creating a data frame</a></li>
<li class="chapter" data-level="" data-path="basic-data-wrangling.html"><a href="basic-data-wrangling.html#exercises-5"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="basic-plots.html"><a href="basic-plots.html"><i class="fa fa-check"></i><b>12</b> Basic plots</a><ul>
<li class="chapter" data-level="12.1" data-path="basic-plots.html"><a href="basic-plots.html#scatterplots"><i class="fa fa-check"></i><b>12.1</b> Scatterplots</a></li>
<li class="chapter" data-level="12.2" data-path="basic-plots.html"><a href="basic-plots.html#histograms"><i class="fa fa-check"></i><b>12.2</b> Histograms</a></li>
<li class="chapter" data-level="12.3" data-path="basic-plots.html"><a href="basic-plots.html#boxplot"><i class="fa fa-check"></i><b>12.3</b> Boxplot</a></li>
<li class="chapter" data-level="" data-path="basic-plots.html"><a href="basic-plots.html#exercises-6"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>13</b> Importing data</a><ul>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#paths-and-the-working-directory"><i class="fa fa-check"></i>Paths and the working directory</a></li>
<li class="chapter" data-level="13.1" data-path="importing-data.html"><a href="importing-data.html#read.csv"><i class="fa fa-check"></i><b>13.1</b> <code>read.csv</code></a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="programming-basics.html"><a href="programming-basics.html"><i class="fa fa-check"></i><b>14</b> Programming basics</a><ul>
<li class="chapter" data-level="14.1" data-path="programming-basics.html"><a href="programming-basics.html#conditionals-expressions"><i class="fa fa-check"></i><b>14.1</b> Conditionals expressions</a></li>
<li class="chapter" data-level="14.2" data-path="programming-basics.html"><a href="programming-basics.html#defining-functions"><i class="fa fa-check"></i><b>14.2</b> Defining functions</a></li>
<li class="chapter" data-level="14.3" data-path="programming-basics.html"><a href="programming-basics.html#for-loops"><i class="fa fa-check"></i><b>14.3</b> For-loops</a></li>
<li class="chapter" data-level="14.4" data-path="programming-basics.html"><a href="programming-basics.html#vectorization-and-functionals"><i class="fa fa-check"></i><b>14.4</b> Vectorization and functionals</a></li>
<li class="chapter" data-level="14.5" data-path="programming-basics.html"><a href="programming-basics.html#map"><i class="fa fa-check"></i><b>14.5</b> map</a></li>
<li class="chapter" data-level="14.6" data-path="programming-basics.html"><a href="programming-basics.html#other-functions"><i class="fa fa-check"></i><b>14.6</b> Other functions</a></li>
<li class="chapter" data-level="" data-path="programming-basics.html"><a href="programming-basics.html#exercises-7"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="matrices.html"><a href="matrices.html"><i class="fa fa-check"></i><b>15</b> Matrices</a><ul>
<li class="chapter" data-level="15.1" data-path="matrices.html"><a href="matrices.html#accessing-matrix-values"><i class="fa fa-check"></i><b>15.1</b> Accessing matrix values</a></li>
</ul></li>
<li class="part"><span><b>II Data Visualization</b></span></li>
<li class="chapter" data-level="16" data-path="introduction-2.html"><a href="introduction-2.html"><i class="fa fa-check"></i><b>16</b> Introduction</a></li>
<li class="chapter" data-level="17" data-path="variable-types.html"><a href="variable-types.html"><i class="fa fa-check"></i><b>17</b> Variable types</a><ul>
<li class="chapter" data-level="" data-path="variable-types.html"><a href="variable-types.html#exercise-1"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>18</b> Distributions</a><ul>
<li class="chapter" data-level="18.1" data-path="distributions.html"><a href="distributions.html#case-study-student-heights"><i class="fa fa-check"></i><b>18.1</b> Case study: student heights</a></li>
<li class="chapter" data-level="18.2" data-path="distributions.html"><a href="distributions.html#distribution-function"><i class="fa fa-check"></i><b>18.2</b> Distribution function</a></li>
<li class="chapter" data-level="18.3" data-path="distributions.html"><a href="distributions.html#cumulative-distribution-functions"><i class="fa fa-check"></i><b>18.3</b> Cumulative distribution functions</a></li>
<li class="chapter" data-level="18.4" data-path="distributions.html"><a href="distributions.html#histograms-1"><i class="fa fa-check"></i><b>18.4</b> Histograms</a></li>
<li class="chapter" data-level="18.5" data-path="distributions.html"><a href="distributions.html#smoothed-density"><i class="fa fa-check"></i><b>18.5</b> Smoothed density</a><ul>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#interpreting-the-y-axis"><i class="fa fa-check"></i>Interpreting the y-axis</a></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#densities-permit-stratification"><i class="fa fa-check"></i>Densities permit stratification</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercises-8"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="18.6" data-path="distributions.html"><a href="distributions.html#the-normal-distribution"><i class="fa fa-check"></i><b>18.6</b> The normal distribution</a><ul>
<li class="chapter" data-level="18.6.1" data-path="distributions.html"><a href="distributions.html#standardized-units"><i class="fa fa-check"></i><b>18.6.1</b> Standardized units</a></li>
<li class="chapter" data-level="18.6.2" data-path="distributions.html"><a href="distributions.html#quantile-quantile-qq-plots"><i class="fa fa-check"></i><b>18.6.2</b> Quantile-quantile QQ plots</a></li>
</ul></li>
<li class="chapter" data-level="18.7" data-path="distributions.html"><a href="distributions.html#percentiles"><i class="fa fa-check"></i><b>18.7</b> Percentiles</a></li>
<li class="chapter" data-level="18.8" data-path="distributions.html"><a href="distributions.html#case-study-coninued-summarizing-male-heights-with-two-numbers"><i class="fa fa-check"></i><b>18.8</b> Case study coninued: summarizing male heights with two numbers</a></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercises-9"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="18.9" data-path="distributions.html"><a href="distributions.html#boxplots"><i class="fa fa-check"></i><b>18.9</b> Boxplots</a></li>
<li class="chapter" data-level="18.10" data-path="distributions.html"><a href="distributions.html#case-study-continued-female-student-heights"><i class="fa fa-check"></i><b>18.10</b> Case study continued: female student heights</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="robust-summaries.html"><a href="robust-summaries.html"><i class="fa fa-check"></i><b>19</b> Robust summaries</a><ul>
<li class="chapter" data-level="19.1" data-path="robust-summaries.html"><a href="robust-summaries.html#outliers"><i class="fa fa-check"></i><b>19.1</b> Outliers</a></li>
<li class="chapter" data-level="19.2" data-path="robust-summaries.html"><a href="robust-summaries.html#median"><i class="fa fa-check"></i><b>19.2</b> Median</a></li>
<li class="chapter" data-level="19.3" data-path="robust-summaries.html"><a href="robust-summaries.html#the-inter-quartile-range-iqr"><i class="fa fa-check"></i><b>19.3</b> The inter quartile range (IQR)</a></li>
<li class="chapter" data-level="19.4" data-path="robust-summaries.html"><a href="robust-summaries.html#tukeys-definition-of-an-outlier"><i class="fa fa-check"></i><b>19.4</b> Tukey’s definition of an outlier</a></li>
<li class="chapter" data-level="19.5" data-path="robust-summaries.html"><a href="robust-summaries.html#median-absolute-deviation"><i class="fa fa-check"></i><b>19.5</b> Median absolute deviation</a></li>
<li class="chapter" data-level="" data-path="robust-summaries.html"><a href="robust-summaries.html#exercises-10"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="19.6" data-path="robust-summaries.html"><a href="robust-summaries.html#case-study-self-reported-heights"><i class="fa fa-check"></i><b>19.6</b> Case study: self-reported heights</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html"><i class="fa fa-check"></i><b>20</b> Summarizing data with dplyr</a><ul>
<li class="chapter" data-level="20.1" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#summarize"><i class="fa fa-check"></i><b>20.1</b> Summarize</a></li>
<li class="chapter" data-level="20.2" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#the-dot-operator"><i class="fa fa-check"></i><b>20.2</b> The dot operator</a></li>
<li class="chapter" data-level="20.3" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#group-then-summarize"><i class="fa fa-check"></i><b>20.3</b> Group then summarize</a></li>
<li class="chapter" data-level="20.4" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#sorting-data-frames"><i class="fa fa-check"></i><b>20.4</b> Sorting data frames</a><ul>
<li class="chapter" data-level="" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#nested-sorting"><i class="fa fa-check"></i>Nested sorting</a></li>
<li><a href="summarizing-data-with-dplyr.html#the-top-n">The top <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="summarizing-data-with-dplyr.html"><a href="summarizing-data-with-dplyr.html#exercises-11"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>21</b> ggplot2</a><ul>
<li class="chapter" data-level="21.1" data-path="ggplot2.html"><a href="ggplot2.html#the-cheat-sheet"><i class="fa fa-check"></i><b>21.1</b> The cheat sheet</a></li>
<li class="chapter" data-level="21.2" data-path="ggplot2.html"><a href="ggplot2.html#the-components-of-a-graph"><i class="fa fa-check"></i><b>21.2</b> The components of a graph</a></li>
<li class="chapter" data-level="21.3" data-path="ggplot2.html"><a href="ggplot2.html#ggplot-objects-a-blank-slate"><i class="fa fa-check"></i><b>21.3</b> <code>ggplot</code> objects: a blank slate</a></li>
<li class="chapter" data-level="21.4" data-path="ggplot2.html"><a href="ggplot2.html#geometries"><i class="fa fa-check"></i><b>21.4</b> Geometries</a></li>
<li class="chapter" data-level="21.5" data-path="ggplot2.html"><a href="ggplot2.html#aesthetic-mappings"><i class="fa fa-check"></i><b>21.5</b> Aesthetic mappings</a></li>
<li class="chapter" data-level="21.6" data-path="ggplot2.html"><a href="ggplot2.html#layers"><i class="fa fa-check"></i><b>21.6</b> Layers</a></li>
<li class="chapter" data-level="21.7" data-path="ggplot2.html"><a href="ggplot2.html#tinkering-with-arguments"><i class="fa fa-check"></i><b>21.7</b> Tinkering with arguments</a></li>
<li class="chapter" data-level="21.8" data-path="ggplot2.html"><a href="ggplot2.html#global-versus-local-aesthetic-mappings"><i class="fa fa-check"></i><b>21.8</b> Global versus local aesthetic mappings</a></li>
<li class="chapter" data-level="21.9" data-path="ggplot2.html"><a href="ggplot2.html#scales"><i class="fa fa-check"></i><b>21.9</b> Scales</a></li>
<li class="chapter" data-level="21.10" data-path="ggplot2.html"><a href="ggplot2.html#labels-and-titles"><i class="fa fa-check"></i><b>21.10</b> Labels and titles</a></li>
<li class="chapter" data-level="21.11" data-path="ggplot2.html"><a href="ggplot2.html#categories-as-colors"><i class="fa fa-check"></i><b>21.11</b> Categories as colors</a></li>
<li class="chapter" data-level="21.12" data-path="ggplot2.html"><a href="ggplot2.html#annotation-and-shapes"><i class="fa fa-check"></i><b>21.12</b> Annotation and shapes</a></li>
<li class="chapter" data-level="21.13" data-path="ggplot2.html"><a href="ggplot2.html#adjustments"><i class="fa fa-check"></i><b>21.13</b> Adjustments</a></li>
<li class="chapter" data-level="21.14" data-path="ggplot2.html"><a href="ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>21.14</b> Add-on packages</a></li>
<li class="chapter" data-level="21.15" data-path="ggplot2.html"><a href="ggplot2.html#putting-it-all-together"><i class="fa fa-check"></i><b>21.15</b> Putting it all together</a></li>
<li class="chapter" data-level="21.16" data-path="ggplot2.html"><a href="ggplot2.html#other-geometries"><i class="fa fa-check"></i><b>21.16</b> Other geometries</a><ul>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#histogram"><i class="fa fa-check"></i>Histogram</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#density"><i class="fa fa-check"></i>Density</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#qq-plots"><i class="fa fa-check"></i>QQ-plots</a></li>
</ul></li>
<li class="chapter" data-level="21.17" data-path="ggplot2.html"><a href="ggplot2.html#grids-of-plots"><i class="fa fa-check"></i><b>21.17</b> Grids of plots</a></li>
<li class="chapter" data-level="21.18" data-path="ggplot2.html"><a href="ggplot2.html#quick-plots-with-qplot"><i class="fa fa-check"></i><b>21.18</b> Quick plots with <code>qplot</code></a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html"><i class="fa fa-check"></i><b>22</b> Case study: Trends in world health and economics</a><ul>
<li class="chapter" data-level="22.1" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#example-1-life-expectancy-and-fertility-rates"><i class="fa fa-check"></i><b>22.1</b> Example 1: Life expectancy and fertility rates</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#hans-roslings-quiz"><i class="fa fa-check"></i>Hans Rosling’s quiz</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#a-scatterplot"><i class="fa fa-check"></i>A scatterplot</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#faceting"><i class="fa fa-check"></i><b>22.2</b> Faceting</a><ul>
<li><a href="case-study-trends-in-world-health-and-economics.html#facet_wrap"><code>facet_wrap</code></a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#fixed-scales-for-better-comparisons"><i class="fa fa-check"></i><b>22.3</b> Fixed scales for better comparisons</a></li>
<li class="chapter" data-level="22.4" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#time-series-plots"><i class="fa fa-check"></i><b>22.4</b> Time series plots</a></li>
<li class="chapter" data-level="22.5" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#labels-for-legends"><i class="fa fa-check"></i><b>22.5</b> Labels for legends</a></li>
<li class="chapter" data-level="22.6" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#example-2-income-distribution"><i class="fa fa-check"></i><b>22.6</b> Example 2: Income distribution</a></li>
<li class="chapter" data-level="22.7" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#transformations"><i class="fa fa-check"></i><b>22.7</b> Transformations</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#country-income-distribution"><i class="fa fa-check"></i>Country income distribution</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#which-base"><i class="fa fa-check"></i>Which base?</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#transform-the-values-or-the-scale"><i class="fa fa-check"></i>Transform the values or the scale?</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#modes"><i class="fa fa-check"></i>Modes</a></li>
</ul></li>
<li class="chapter" data-level="22.8" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#stratify-and-boxplot"><i class="fa fa-check"></i><b>22.8</b> Stratify and boxplot</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#do-not-order-alphabetically"><i class="fa fa-check"></i>Do not order alphabetically</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#show-the-data"><i class="fa fa-check"></i>Show the data</a></li>
</ul></li>
<li class="chapter" data-level="22.9" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#comparing-distributions"><i class="fa fa-check"></i><b>22.9</b> Comparing distributions</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#density-plots"><i class="fa fa-check"></i>Density plots</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#accessing-computed-variables"><i class="fa fa-check"></i>Accessing computed variables</a></li>
<li class="chapter" data-level="22.9.1" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#case_when"><i class="fa fa-check"></i><b>22.9.1</b> ‘case_when’</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#weighted-densities"><i class="fa fa-check"></i>Weighted densities</a></li>
</ul></li>
<li class="chapter" data-level="22.10" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#ecological-fallacy"><i class="fa fa-check"></i><b>22.10</b> Ecological fallacy</a><ul>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#logistic-transformation"><i class="fa fa-check"></i>Logistic transformation</a></li>
<li class="chapter" data-level="" data-path="case-study-trends-in-world-health-and-economics.html"><a href="case-study-trends-in-world-health-and-economics.html#show-the-data-1"><i class="fa fa-check"></i>Show the data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html"><i class="fa fa-check"></i><b>23</b> Data visualization principles</a><ul>
<li class="chapter" data-level="23.1" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#encoding-data-using-visual-cues"><i class="fa fa-check"></i><b>23.1</b> Encoding data using visual cues</a></li>
<li class="chapter" data-level="23.2" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#know-when-to-include-0"><i class="fa fa-check"></i><b>23.2</b> Know when to include 0</a></li>
<li class="chapter" data-level="23.3" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#do-not-distort-quantities"><i class="fa fa-check"></i><b>23.3</b> Do not distort quantities</a></li>
<li class="chapter" data-level="23.4" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#order-by-a-meaningful-value"><i class="fa fa-check"></i><b>23.4</b> Order by a meaningful value</a></li>
<li class="chapter" data-level="23.5" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#show-the-data-2"><i class="fa fa-check"></i><b>23.5</b> Show the data</a></li>
<li class="chapter" data-level="23.6" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparisons-use-common-axes"><i class="fa fa-check"></i><b>23.6</b> Ease comparisons: use common axes</a></li>
<li class="chapter" data-level="23.7" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparisons-align-plots-vertically-to-see-horizontal-changes-and-horizontally-to-see-vertical-changes"><i class="fa fa-check"></i><b>23.7</b> Ease comparisons: align plots vertically to see horizontal changes and horizontally to see vertical changes</a></li>
<li class="chapter" data-level="23.8" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#consider-transformations"><i class="fa fa-check"></i><b>23.8</b> Consider transformations</a></li>
<li class="chapter" data-level="23.9" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparisons-visual-cues-to-be-compared-should-be-adjacent."><i class="fa fa-check"></i><b>23.9</b> Ease comparisons: Visual cues to be compared should be adjacent.</a></li>
<li class="chapter" data-level="23.10" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#ease-comparison-use-color"><i class="fa fa-check"></i><b>23.10</b> Ease comparison: use color</a></li>
<li class="chapter" data-level="23.11" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#think-of-the-color-blind"><i class="fa fa-check"></i><b>23.11</b> Think of the color blind</a></li>
<li class="chapter" data-level="23.12" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#use-scatterplots-to-examine-the-relationship-between-two-variables"><i class="fa fa-check"></i><b>23.12</b> Use scatterplots to examine the relationship between two variables</a><ul>
<li class="chapter" data-level="23.12.1" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#slope-charts"><i class="fa fa-check"></i><b>23.12.1</b> Slope charts</a></li>
<li class="chapter" data-level="23.12.2" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#bland-altman-plot"><i class="fa fa-check"></i><b>23.12.2</b> Bland-Altman plot</a></li>
</ul></li>
<li class="chapter" data-level="23.13" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#encoding-a-third-variable"><i class="fa fa-check"></i><b>23.13</b> Encoding a third variable</a></li>
<li class="chapter" data-level="23.14" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#avoid-pseudo-three-dimensional-plots"><i class="fa fa-check"></i><b>23.14</b> Avoid pseudo three dimensional plots</a></li>
<li class="chapter" data-level="23.15" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#avoid-gratuitous-three-dimensional-plots"><i class="fa fa-check"></i><b>23.15</b> Avoid gratuitous three dimensional plots</a></li>
<li class="chapter" data-level="23.16" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#avoid-too-many-significant-digits"><i class="fa fa-check"></i><b>23.16</b> Avoid too many significant digits</a></li>
<li class="chapter" data-level="23.17" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#further-reading"><i class="fa fa-check"></i><b>23.17</b> Further reading:</a></li>
<li class="chapter" data-level="" data-path="data-visualization-principles.html"><a href="data-visualization-principles.html#exercises-12"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="case-study-the-impact-of-vaccines-on-battling-infectious-diseases.html"><a href="case-study-the-impact-of-vaccines-on-battling-infectious-diseases.html"><i class="fa fa-check"></i><b>24</b> Case study: the impact of vaccines on battling infectious diseases</a></li>
<li class="part"><span><b>III Probability</b></span></li>
<li class="chapter" data-level="25" data-path="introduction-3.html"><a href="introduction-3.html"><i class="fa fa-check"></i><b>25</b> Introduction</a></li>
<li class="chapter" data-level="26" data-path="discrete-probability.html"><a href="discrete-probability.html"><i class="fa fa-check"></i><b>26</b> Discrete probability</a><ul>
<li class="chapter" data-level="26.1" data-path="discrete-probability.html"><a href="discrete-probability.html#relative-frequency"><i class="fa fa-check"></i><b>26.1</b> Relative frequency</a></li>
<li class="chapter" data-level="26.2" data-path="discrete-probability.html"><a href="discrete-probability.html#notation"><i class="fa fa-check"></i><b>26.2</b> Notation</a></li>
<li class="chapter" data-level="26.3" data-path="discrete-probability.html"><a href="discrete-probability.html#monte-carlo-simulations"><i class="fa fa-check"></i><b>26.3</b> Monte Carlo simulations</a></li>
<li class="chapter" data-level="26.4" data-path="discrete-probability.html"><a href="discrete-probability.html#setting-the-random-seed"><i class="fa fa-check"></i><b>26.4</b> Setting the random seed</a><ul>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#with-and-without-replacement"><i class="fa fa-check"></i>With and without replacement</a></li>
</ul></li>
<li class="chapter" data-level="26.5" data-path="discrete-probability.html"><a href="discrete-probability.html#probability-distributions"><i class="fa fa-check"></i><b>26.5</b> Probability distributions</a></li>
<li class="chapter" data-level="26.6" data-path="discrete-probability.html"><a href="discrete-probability.html#independence"><i class="fa fa-check"></i><b>26.6</b> Independence</a></li>
<li class="chapter" data-level="26.7" data-path="discrete-probability.html"><a href="discrete-probability.html#conditional-probabilities"><i class="fa fa-check"></i><b>26.7</b> Conditional probabilities</a></li>
<li class="chapter" data-level="26.8" data-path="discrete-probability.html"><a href="discrete-probability.html#multiplication-rule"><i class="fa fa-check"></i><b>26.8</b> Multiplication rule</a><ul>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#multiplication-rule-under-indepedence"><i class="fa fa-check"></i>Multiplication rule under indepedence</a></li>
</ul></li>
<li class="chapter" data-level="26.9" data-path="discrete-probability.html"><a href="discrete-probability.html#combinations-and-permutations"><i class="fa fa-check"></i><b>26.9</b> Combinations and permutations</a><ul>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#monte-carlo-example"><i class="fa fa-check"></i>Monte Carlo example</a></li>
</ul></li>
<li class="chapter" data-level="26.10" data-path="discrete-probability.html"><a href="discrete-probability.html#birthday-problem"><i class="fa fa-check"></i><b>26.10</b> Birthday problem</a></li>
<li class="chapter" data-level="26.11" data-path="discrete-probability.html"><a href="discrete-probability.html#how-many-monte-carlo-experiments-are-enough"><i class="fa fa-check"></i><b>26.11</b> How many Monte Carlo experiments are enough</a></li>
<li class="chapter" data-level="26.12" data-path="discrete-probability.html"><a href="discrete-probability.html#addition-rule"><i class="fa fa-check"></i><b>26.12</b> Addition rule</a></li>
<li class="chapter" data-level="26.13" data-path="discrete-probability.html"><a href="discrete-probability.html#monty-hall-problem"><i class="fa fa-check"></i><b>26.13</b> Monty Hall problem</a></li>
<li class="chapter" data-level="" data-path="discrete-probability.html"><a href="discrete-probability.html#exercises-13"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="continuous-probability.html"><a href="continuous-probability.html"><i class="fa fa-check"></i><b>27</b> Continuous probability</a><ul>
<li class="chapter" data-level="27.1" data-path="continuous-probability.html"><a href="continuous-probability.html#theoretical-distribution"><i class="fa fa-check"></i><b>27.1</b> Theoretical distribution</a></li>
<li class="chapter" data-level="27.2" data-path="continuous-probability.html"><a href="continuous-probability.html#approximations"><i class="fa fa-check"></i><b>27.2</b> Approximations</a></li>
<li class="chapter" data-level="27.3" data-path="continuous-probability.html"><a href="continuous-probability.html#the-probability-density"><i class="fa fa-check"></i><b>27.3</b> The probability density</a></li>
<li class="chapter" data-level="27.4" data-path="continuous-probability.html"><a href="continuous-probability.html#monte-carlo-simulations-1"><i class="fa fa-check"></i><b>27.4</b> Monte Carlo simulations</a></li>
<li class="chapter" data-level="27.5" data-path="continuous-probability.html"><a href="continuous-probability.html#other-continuous-distributions"><i class="fa fa-check"></i><b>27.5</b> Other continuous distributions</a></li>
<li class="chapter" data-level="" data-path="continuous-probability.html"><a href="continuous-probability.html#exercise-2"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="random-variables.html"><a href="random-variables.html"><i class="fa fa-check"></i><b>28</b> Random variables</a><ul>
<li class="chapter" data-level="28.1" data-path="random-variables.html"><a href="random-variables.html#sampling-models"><i class="fa fa-check"></i><b>28.1</b> Sampling models</a></li>
<li class="chapter" data-level="28.2" data-path="random-variables.html"><a href="random-variables.html#the-probability-distribution-of-a-random-variable"><i class="fa fa-check"></i><b>28.2</b> The probability distribution of a random variable</a></li>
<li class="chapter" data-level="28.3" data-path="random-variables.html"><a href="random-variables.html#distributions-versus-probability-distributions"><i class="fa fa-check"></i><b>28.3</b> Distributions versus probability distributions</a></li>
<li class="chapter" data-level="28.4" data-path="random-variables.html"><a href="random-variables.html#notation-for-random-variables"><i class="fa fa-check"></i><b>28.4</b> Notation for random variables</a></li>
<li class="chapter" data-level="28.5" data-path="random-variables.html"><a href="random-variables.html#central-limit-theorem"><i class="fa fa-check"></i><b>28.5</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="28.6" data-path="random-variables.html"><a href="random-variables.html#the-expected-value-and-standard-error"><i class="fa fa-check"></i><b>28.6</b> The expected value and standard error</a></li>
<li class="chapter" data-level="28.7" data-path="random-variables.html"><a href="random-variables.html#central-limit-theorem-approximation"><i class="fa fa-check"></i><b>28.7</b> Central Limit Theorem approximation</a></li>
<li class="chapter" data-level="28.8" data-path="random-variables.html"><a href="random-variables.html#statistical-properties-of-averages"><i class="fa fa-check"></i><b>28.8</b> Statistical properties of averages</a><ul>
<li><a href="random-variables.html#why-we-use-mu-and-sigma">Why we use <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span></a></li>
</ul></li>
<li class="chapter" data-level="28.9" data-path="random-variables.html"><a href="random-variables.html#law-of-large-numbers"><i class="fa fa-check"></i><b>28.9</b> Law of large numbers</a><ul>
<li class="chapter" data-level="28.9.1" data-path="random-variables.html"><a href="random-variables.html#misinterpreting-law-of-averages"><i class="fa fa-check"></i><b>28.9.1</b> Misinterpreting law of averages</a></li>
</ul></li>
<li class="chapter" data-level="28.10" data-path="random-variables.html"><a href="random-variables.html#how-large-is-large-in-clt"><i class="fa fa-check"></i><b>28.10</b> How large is large in CLT?</a></li>
<li class="chapter" data-level="28.11" data-path="random-variables.html"><a href="random-variables.html#population-sd-versus-the-sample-sd"><i class="fa fa-check"></i><b>28.11</b> Population SD versus the sample SD</a></li>
<li class="chapter" data-level="" data-path="random-variables.html"><a href="random-variables.html#exercises-14"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html"><i class="fa fa-check"></i><b>29</b> Case study: The Big Short</a><ul>
<li class="chapter" data-level="29.1" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html#interest-rates-explained-with-chance-model"><i class="fa fa-check"></i><b>29.1</b> Interest rates explained with chance model</a></li>
<li class="chapter" data-level="29.2" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html#the-big-short"><i class="fa fa-check"></i><b>29.2</b> The Big Short</a></li>
<li class="chapter" data-level="" data-path="case-study-the-big-short.html"><a href="case-study-the-big-short.html#exercises-15"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Inference and modeling</b></span></li>
<li class="chapter" data-level="30" data-path="introduction-4.html"><a href="introduction-4.html"><i class="fa fa-check"></i><b>30</b> Introduction</a></li>
<li class="chapter" data-level="31" data-path="polls.html"><a href="polls.html"><i class="fa fa-check"></i><b>31</b> Polls</a><ul>
<li class="chapter" data-level="31.1" data-path="polls.html"><a href="polls.html#the-sampling-model-for-polls"><i class="fa fa-check"></i><b>31.1</b> The sampling model for polls</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html"><i class="fa fa-check"></i><b>32</b> Populations, samples, parameters and estimates</a><ul>
<li class="chapter" data-level="32.1" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#the-sample-average"><i class="fa fa-check"></i><b>32.1</b> The sample average</a></li>
<li class="chapter" data-level="32.2" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#parameters"><i class="fa fa-check"></i><b>32.2</b> Parameters</a></li>
<li class="chapter" data-level="32.3" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#polling-versus-forecasting"><i class="fa fa-check"></i><b>32.3</b> Polling versus forecasting</a></li>
<li class="chapter" data-level="32.4" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#properties-of-our-estimate-expected-value-and-standard-error"><i class="fa fa-check"></i><b>32.4</b> Properties of our estimate: expected value and standard error</a></li>
<li class="chapter" data-level="" data-path="populations-samples-parameters-and-estimates.html"><a href="populations-samples-parameters-and-estimates.html#exercises-16"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html"><i class="fa fa-check"></i><b>33</b> Central Limit Theorem in practice</a><ul>
<li class="chapter" data-level="33.1" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#a-monte-carlo-simulation"><i class="fa fa-check"></i><b>33.1</b> A Monte Carlo simulation</a></li>
<li class="chapter" data-level="33.2" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#the-spread"><i class="fa fa-check"></i><b>33.2</b> The spread</a></li>
<li class="chapter" data-level="33.3" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#bias-why-not-run-a-very-large-poll"><i class="fa fa-check"></i><b>33.3</b> Bias: why not run a very large poll?</a></li>
<li class="chapter" data-level="" data-path="central-limit-theorem-in-practice.html"><a href="central-limit-theorem-in-practice.html#exercises-17"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>34</b> Confidence intervals</a><ul>
<li class="chapter" data-level="34.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#a-monte-carlo-simulation-1"><i class="fa fa-check"></i><b>34.1</b> A Monte Carlo simulation</a></li>
<li class="chapter" data-level="34.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#the-correct-language"><i class="fa fa-check"></i><b>34.2</b> The correct language</a></li>
<li class="chapter" data-level="34.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#power"><i class="fa fa-check"></i><b>34.3</b> Power</a></li>
<li class="chapter" data-level="34.4" data-path="confidence-intervals.html"><a href="confidence-intervals.html#p-values"><i class="fa fa-check"></i><b>34.4</b> p-values</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#exercises-18"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="statistical-models.html"><a href="statistical-models.html"><i class="fa fa-check"></i><b>35</b> Statistical models</a><ul>
<li class="chapter" data-level="35.1" data-path="statistical-models.html"><a href="statistical-models.html#poll-aggregators"><i class="fa fa-check"></i><b>35.1</b> Poll aggregators</a></li>
<li class="chapter" data-level="35.2" data-path="statistical-models.html"><a href="statistical-models.html#poll-data"><i class="fa fa-check"></i><b>35.2</b> Poll data</a></li>
<li class="chapter" data-level="35.3" data-path="statistical-models.html"><a href="statistical-models.html#pollster-bias"><i class="fa fa-check"></i><b>35.3</b> Pollster bias</a></li>
<li class="chapter" data-level="35.4" data-path="statistical-models.html"><a href="statistical-models.html#data-driven-model"><i class="fa fa-check"></i><b>35.4</b> Data driven model</a></li>
<li class="chapter" data-level="" data-path="statistical-models.html"><a href="statistical-models.html#exercises-19"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html"><i class="fa fa-check"></i><b>36</b> Bayesian statistics</a><ul>
<li class="chapter" data-level="36.1" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#bayes-theorem"><i class="fa fa-check"></i><b>36.1</b> Bayes theorem</a></li>
<li class="chapter" data-level="36.2" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#bayes-theorem-simulation"><i class="fa fa-check"></i><b>36.2</b> Bayes Theorem simulation</a></li>
<li class="chapter" data-level="36.3" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#bayes-in-practice"><i class="fa fa-check"></i><b>36.3</b> Bayes in practice</a></li>
<li class="chapter" data-level="36.4" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#the-hierarchical-model"><i class="fa fa-check"></i><b>36.4</b> The hierarchical model</a></li>
<li class="chapter" data-level="" data-path="bayesian-statistics.html"><a href="bayesian-statistics.html#exercises-20"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="election-forecasting.html"><a href="election-forecasting.html"><i class="fa fa-check"></i><b>37</b> Election forecasting</a><ul>
<li class="chapter" data-level="37.1" data-path="election-forecasting.html"><a href="election-forecasting.html#bayesian-approach"><i class="fa fa-check"></i><b>37.1</b> Bayesian approach</a></li>
<li class="chapter" data-level="37.2" data-path="election-forecasting.html"><a href="election-forecasting.html#the-general-bias"><i class="fa fa-check"></i><b>37.2</b> The general bias</a></li>
<li class="chapter" data-level="37.3" data-path="election-forecasting.html"><a href="election-forecasting.html#mathematical-representations-of-models"><i class="fa fa-check"></i><b>37.3</b> Mathematical representations of models</a></li>
<li class="chapter" data-level="37.4" data-path="election-forecasting.html"><a href="election-forecasting.html#predicting-the-electoral-college"><i class="fa fa-check"></i><b>37.4</b> Predicting the electoral college</a></li>
<li class="chapter" data-level="37.5" data-path="election-forecasting.html"><a href="election-forecasting.html#forecasting"><i class="fa fa-check"></i><b>37.5</b> Forecasting</a></li>
<li class="chapter" data-level="" data-path="election-forecasting.html"><a href="election-forecasting.html#exercise-3"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="association-tests.html"><a href="association-tests.html"><i class="fa fa-check"></i><b>38</b> Association Tests</a><ul>
<li class="chapter" data-level="38.1" data-path="association-tests.html"><a href="association-tests.html#lady-tasting-tea"><i class="fa fa-check"></i><b>38.1</b> Lady Tasting Tea</a></li>
<li class="chapter" data-level="38.2" data-path="association-tests.html"><a href="association-tests.html#two-by-two-tables"><i class="fa fa-check"></i><b>38.2</b> Two-by-two tables</a></li>
<li class="chapter" data-level="38.3" data-path="association-tests.html"><a href="association-tests.html#chi-square-test"><i class="fa fa-check"></i><b>38.3</b> Chi-square Test</a></li>
<li class="chapter" data-level="38.4" data-path="association-tests.html"><a href="association-tests.html#the-odds-ratio"><i class="fa fa-check"></i><b>38.4</b> The Odds Ratio</a></li>
<li class="chapter" data-level="38.5" data-path="association-tests.html"><a href="association-tests.html#large-samples-small-p-values"><i class="fa fa-check"></i><b>38.5</b> Large samples, small p-values</a></li>
<li class="chapter" data-level="38.6" data-path="association-tests.html"><a href="association-tests.html#confidence-intervals-for-the-odds-ratio"><i class="fa fa-check"></i><b>38.6</b> Confidence intervals for the odds ratio</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="random-variables" class="section level1">
<h1><span class="header-section-number">Chapter 28</span> Random variables</h1>
<p>Random variables are numeric outcomes resulting from random processes. We can easily generate random variables using some of the simple examples we have shown. For example, define <code>X</code> to be 1, if a bead is blue and red otherwise.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">beads &lt;-<span class="st"> </span><span class="kw">rep</span>( <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>), <span class="dt">times =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))
X &lt;-<span class="st"> </span><span class="kw">ifelse</span>(<span class="kw">sample</span>(beads, <span class="dv">1</span>) <span class="op">==</span><span class="st"> &quot;blue&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)</code></pre></div>
<p>Here <code>X</code> is a random variable: every time we select a new bead the outcome changes randomly. See below:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ifelse</span>(<span class="kw">sample</span>(beads, <span class="dv">1</span>) <span class="op">==</span><span class="st"> &quot;blue&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)
<span class="co">#&gt; [1] 0</span>
<span class="kw">ifelse</span>(<span class="kw">sample</span>(beads, <span class="dv">1</span>) <span class="op">==</span><span class="st"> &quot;blue&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)
<span class="co">#&gt; [1] 1</span>
<span class="kw">ifelse</span>(<span class="kw">sample</span>(beads, <span class="dv">1</span>) <span class="op">==</span><span class="st"> &quot;blue&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)
<span class="co">#&gt; [1] 1</span></code></pre></div>
<p>Sometimes it’s 1 and sometimes it’s 0.</p>
<p>In data science, we often deal with data that is affected by chance in some way: the data comes from a random sample, the data is affected by measurement error or the data measures some outcome that is random in nature. Being able to quantify the uncertainty introduced by randomness is one of the most important jobs of a data scientist. Statistical inference offers a framework, as well as several practical tools, for doing this. The first step is to learn how to mathematically describe random variables. We start with games of chance.</p>
<div id="sampling-models" class="section level2">
<h2><span class="header-section-number">28.1</span> Sampling models</h2>
<p>Many data generation procedures, those that produce the data we study, can be modeled quite well as draws from a urn. For instance, we can model the process of polling likely voters as drawing 0s (Republicans) and 1s (Democrats) from an urn containing the 0 and 1 code for all likely voters. In epidemiological studies, we often assume that the subjects in our study are a random sample from the population of interest. The data related to a specific outcome can be modeled as a random sample from an urn containing that outcome for the entire population of interest. Similarly, in experimental research, we often assume that the individual organisms we are studying, for example worms, flies, or mice, are a random sample from a larger population. Randomized experiments can also be modeled by draws from an urn given the way individuals are assigned into groups: when getting assigned, you draw your group at random. Sampling models are therefore ubiquitous in data science. Casino games offer a plethora of examples of real world situations in which sampling models are used to answer specific questions. We will therefore start with such examples.</p>
<p>Suppose a very small casino hires you to consult on whether they should set up roulette wheels. To keep the example simple, we will assume that 1,000 people will play and that the only game you can play on the roulette wheel is to bet on red or black. The casino wants you to predict how much money they will make or lose. They want a range of values and, in particular, they want to know what’s the chance of losing money. If this probability is too high, they will pass on installing roulette wheels.</p>
<p>We are going to define a random variable <code>S</code> that will represent the casino’s total winnings. Let’s start by constructing the urn. A roulette wheel has 18 red pockets, 18 black pockets and 2 green ones. So playing a color in one game of roulette is equivalent to drawing from this urn:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">color &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;Black&quot;</span>,<span class="st">&quot;Red&quot;</span>,<span class="st">&quot;Green&quot;</span>), <span class="kw">c</span>(<span class="dv">18</span>,<span class="dv">18</span>,<span class="dv">2</span>))</code></pre></div>
<p>The 1,000 outcomes from 1,000 people playing are independent draws from this urn. If red comes up, the gambler wins and the casino loses a dollar, so we draw a -$1. Otherwise, the casino wins a dollar and we draw a $1. We code these draws like this:</p>
<p>To construct our random variable <code>S</code> we can use this code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">10000</span>
X &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">ifelse</span>( color<span class="op">==</span><span class="st">&quot;Red&quot;</span>, <span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>),  n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)
X[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]
<span class="co">#&gt;  [1]  1 -1 -1 -1 -1  1  1  1 -1  1</span></code></pre></div>
<p>Because we know the proportions of 1s and -1s, we can generate the draws with one line of code, without defining <code>color</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>), n, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob=</span><span class="kw">c</span>(<span class="dv">9</span><span class="op">/</span><span class="dv">19</span>, <span class="dv">10</span><span class="op">/</span><span class="dv">19</span>))</code></pre></div>
<p>We call this a <strong>sampling model</strong> since we are modelling the random behavior of roulette with the sampling of draws from an urn. The total winnings <code>S</code> is simply the sum of these 1,000 independent draws:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>), n, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob=</span><span class="kw">c</span>(<span class="dv">9</span><span class="op">/</span><span class="dv">19</span>, <span class="dv">10</span><span class="op">/</span><span class="dv">19</span>))
S &lt;-<span class="st"> </span><span class="kw">sum</span>(X)
S
<span class="co">#&gt; [1] 664</span></code></pre></div>
</div>
<div id="the-probability-distribution-of-a-random-variable" class="section level2">
<h2><span class="header-section-number">28.2</span> The probability distribution of a random variable</h2>
<p>If you run the code above, you see that <span class="math inline">\(S\)</span> changes every time. This is, of course, because <code>S</code> is a <strong>random variable</strong>. The probability distribution of a random variable tells us the probability of the observed value falling at any given interval. So, for example, if we want to know the probability that we lose money, we are asking the probability that <code>S</code> is in the interval <span class="math inline">\(S&lt;0\)</span>.</p>
<p>Note that if we can define a cumulative distribution function <span class="math inline">\(F(a) = \mbox{Pr}(S\leq a)\)</span>, then we will be able to answer any question related to the probability of events defined by our random variable <span class="math inline">\(S\)</span>, including the event <span class="math inline">\(S&lt;0\)</span>. We call this <span class="math inline">\(F\)</span> the random variable’s <em>distribution function</em>.</p>
<p>We can estimate the distribution function for the random variable <span class="math inline">\(S\)</span> by using a Monte Carlo simulation to generate many realizations of the random variable. With this code, we run the experiment of having 1,000 people play roulette, over and over, specifically <code>B</code>=10,000 times:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">1000</span>
B &lt;-<span class="st"> </span><span class="dv">10000</span>
roulette_winnings &lt;-<span class="st"> </span><span class="cf">function</span>(n){
  X &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>), n, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob=</span><span class="kw">c</span>(<span class="dv">9</span><span class="op">/</span><span class="dv">19</span>, <span class="dv">10</span><span class="op">/</span><span class="dv">19</span>))
  <span class="kw">sum</span>(X)
}
S &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, <span class="kw">roulette_winnings</span>(n))</code></pre></div>
<p>So now we can ask the following: in our simulations, how often did we get sums less than or equal to<code>a</code>?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(S <span class="op">&lt;=</span><span class="st"> </span>a)</code></pre></div>
<p>This will be a very good approximation of <span class="math inline">\(F(a)\)</span>. In fact, we can visualize the distribution by creating a histogram showing the probability <span class="math inline">\(F(b)-F(a)\)</span> for several intervals <span class="math inline">\((a,b]\)</span>:</p>
<p><img src="book_files/figure-html/sum-density-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Now we can easily answer the casino’s question: how likely is it that we will lose money?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(S<span class="op">&lt;</span><span class="dv">0</span>)
<span class="co">#&gt; [1] 0.046</span></code></pre></div>
<p>We can see it is quite low.</p>
<p>In the histogram above, we see that the distribution appears to be approximately normal. A qq-plot will confirm that the normal approximation is close to perfect. If in fact the distribution is normal, then all we need to define the distribution is the average and the standard deviation. Because we have the original values from which the distribution is created, we can easily compute these:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(S)
<span class="co">#&gt; [1] 52.5</span>
<span class="kw">sd</span>(S)
<span class="co">#&gt; [1] 31.7</span></code></pre></div>
<p>If we add a normal density with this average and standard deviation to the histogram above, we see that it matches very well:</p>
<p><img src="book_files/figure-html/normal-approximates-distribution-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>This average and this standard deviation have special names. They are referred to as the <em>expected value</em> and <em>standard error</em> of the random variable <span class="math inline">\(S\)</span>. We will say more about these in the next section.</p>
<p>It turns out that statistical theory provides a way to derive the distribution of random variables defined as independent random draws from an urn. Specifically, in our example above, we can show that <span class="math inline">\((S+n)/2\)</span> follows a binomial distribution. We therefore do not need to run for Monte Carlo simulations to know the probability distribution of <span class="math inline">\(S\)</span>. We did this for illustrative purposes.</p>
<p>We can use the function <code>dbinom</code> and <code>pbinom</code> to compute the probabilities exactly. For example, to know compute <span class="math inline">\(\mbox{Pr}(S &lt; 0)\)</span> we note that:</p>
<p><span class="math display">\[\mbox{Pr}(S &lt; 0) = \mbox{Pr}((S+n)/2 &lt; (0+n)/2)\]</span></p>
<p>and we can use the <code>pbinom</code> to compute <span class="math display">\[\mbox{Pr}(S \leq 0)\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pbinom</span>(n<span class="op">/</span><span class="dv">2</span>, <span class="dt">size =</span> n, <span class="dt">prob =</span> <span class="dv">9</span><span class="op">/</span><span class="dv">19</span>)
<span class="co">#&gt; [1] 0.955</span></code></pre></div>
<p>Because this is a discrete probability function, to get <span class="math inline">\(\mbox{Pr}(S &lt; 0)\)</span> rather than <span class="math inline">\(\mbox{Pr}(S \leq 0)\)</span> we write:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pbinom</span>(n<span class="op">/</span><span class="dv">2</span><span class="op">-</span><span class="dv">1</span>, <span class="dt">size =</span> n, <span class="dt">prob =</span> <span class="dv">9</span><span class="op">/</span><span class="dv">19</span>)
<span class="co">#&gt; [1] 0.949</span></code></pre></div>
<p>For the details of the binomial distribution you can consult any basic probability book or even <a href="https://en.wikipedia.org/wiki/Binomial_distribution">Wikipedia</a>.</p>
<p>Here we do not cover these details. Instead, we will discuss an incredibly useful approximation provided by mathematical theory that applies generally to sums and averages of draws from any urn: the Central Limit Theorem (CLT).</p>
</div>
<div id="distributions-versus-probability-distributions" class="section level2">
<h2><span class="header-section-number">28.3</span> Distributions versus probability distributions</h2>
<p>Before we continue, let’s make an important distinction and connection between the distribution of a list of numbers and a probability distribution. In the visualization chapter, we described how any list of numbers <span class="math inline">\(x_1,\dots,x_n\)</span> has a distribution. The definition is quite straightforward. We define <span class="math inline">\(F(a)\)</span> as the function that answers the question: what proportion of the list is less than or equal to <span class="math inline">\(a\)</span>?. Because they are useful summaries when the distribution is approximately normal, we define the average and standard deviation. These are defined with a straightforward operation of the vector containing the list of numbers <code>x</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">avg &lt;-<span class="st"> </span><span class="kw">sum</span>(x)<span class="op">/</span><span class="kw">length</span>(x)
s &lt;-<span class="st"> </span><span class="kw">sqrt</span>(<span class="kw">sum</span>((x <span class="op">-</span><span class="st"> </span>avg)<span class="op">^</span><span class="dv">2</span>) <span class="op">/</span><span class="st"> </span><span class="kw">length</span>(x))</code></pre></div>
<p>A random variable <span class="math inline">\(X\)</span> has a distribution function. To define this we do not need a list of numbers. It is a theoretical concept. In this case, we define the distribution as the <span class="math inline">\(F(a)\)</span> that answers the question: what is the probability that <span class="math inline">\(X\)</span> is less than or equal to <span class="math inline">\(a\)</span>? There is no list of numbers.</p>
<p>However, if <span class="math inline">\(X\)</span> is defined by drawing from an urn with numbers in it, then there is a list: the list of numbers inside the urn. In this case, the distribution of that list is the probability distribution of <span class="math inline">\(X\)</span> and the average and standard deviation of that list are the expected value and standard error of the random variable.</p>
<p>Another way to think about it, that does not involve an urn, is to run a Monte Carlo simulation and generate a very large list of outcomes of <span class="math inline">\(X\)</span>. These outcomes are a list of numbers. The distribution of this list will be a very good approximation of the probability distribution of <span class="math inline">\(X\)</span>. The longer the list, the better the approximation. The average and standard deviation of this list will approximate the expected value and standard error of the random variable.</p>
</div>
<div id="notation-for-random-variables" class="section level2">
<h2><span class="header-section-number">28.4</span> Notation for random variables</h2>
<p>In statistical textbooks, upper case letters are used to denote random variables and we follow this convention here. Lower case letters are used for observed values. You will see some notation that includes both. For example, you will see events defined as <span class="math inline">\(X \leq x\)</span>. Here <span class="math inline">\(X\)</span> is a random variable, making it a random event, and <span class="math inline">\(x\)</span> is an arbitrary value and not random. So, for example, <span class="math inline">\(X\)</span> might represent the number on a die roll and <span class="math inline">\(x\)</span> will represent an actual value we see. So in this case, the probability of <span class="math inline">\(X=x\)</span> is 1/6 regardless of the value of <span class="math inline">\(x\)</span>. This notation is a bit strange because, when we ask questions about probability, <span class="math inline">\(X\)</span> is not an observed quantity. Instead it’s a random quantity that we will see in the future. We can talk about what we expect it to be, what values are probable, but not what it is. But once we have data, we do see a realization of <span class="math inline">\(X\)</span>. So data scientists talk of what could have been after we see what actually happened.</p>
</div>
<div id="central-limit-theorem" class="section level2">
<h2><span class="header-section-number">28.5</span> Central Limit Theorem</h2>
<p>The Central Limit Theorem (CLT) tells us that when the number of draws, also called the <em>sample size</em>, is large, the probability distribution of the sum of the independent draws is approximately normal. Because sampling models are used for so many data generation processes, the CLT is considered one of the most important mathematical insights in history.</p>
<p>Previously, we discussed that if we know that the distribution of a list of numbers is approximated by the normal distribution, all we need to describe the list are the average and standard deviation. We also know that the same applies to probability distributions. If a random variable has a probability distribution that is approximated with the normal distribution, then all we need to describe the probability distribution are the average and standard deviation, referred to as the expected value and standard error.</p>
</div>
<div id="the-expected-value-and-standard-error" class="section level2">
<h2><span class="header-section-number">28.6</span> The expected value and standard error</h2>
<p>We have described sampling models for draws. We will now go over the mathematical theory that lets us approximate the probability distributions for the sum of draws. Once we do this, we will be able to help the casino predict how much money they will make. The same approach we use for the sum of draws will be useful for describing the distribution of averages and proportion which we will need to understand how polls work.</p>
<p>The first important concept to learn is the <em>expected value</em>. In statistics books, it is common to use letter <span class="math inline">\(\mbox{E}\)</span> like this:</p>
<p><span class="math display">\[\mbox{E}[X]\]</span></p>
<p>to denote the expected value of the random variable <span class="math inline">\(X\)</span>.</p>
<p>A random variable will vary around its expected value in a way that if you take the average of many, many draws, the average of the draws will approximate the expected value, getting closer and closer the more draws you take.</p>
<p>Theoretical statistics provides techniques that facilitate the calculation of expected values in different circumstances. For example, a useful formula tells us that the expected value of a random variable defined by one draw is the average of the numbers in the urn. So in the urn used to model betting on red in roulette, we have 20 one dollars, and 18 negative one dollars. The expected value is thus:</p>
<p><span class="math display">\[
\mbox{E}[X] = (20 + -18)/38
\]</span></p>
<p>which is about 5 cents. It is a bit counterintuitive to say that <span class="math inline">\(X\)</span> varies around 0.05, when the only values it takes is 1 and -1. One way to make sense of the expected value in this context is by realizing that if we play the game over and over, the casino wins, on average, 5 cents per game. A Monte Carlo simulation confirms this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">B &lt;-<span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="dv">6</span>
X &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>), B, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob=</span><span class="kw">c</span>(<span class="dv">9</span><span class="op">/</span><span class="dv">19</span>, <span class="dv">10</span><span class="op">/</span><span class="dv">19</span>))
<span class="kw">mean</span>(X)
<span class="co">#&gt; [1] 0.0515</span></code></pre></div>
<p>In general, if the urn has two possible outcomes, say <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>, with proportions <span class="math inline">\(p\)</span> and <span class="math inline">\(1-p\)</span> respectively, the average is:</p>
<p><span class="math display">\[ap + b(1-p).\]</span></p>
<p>To see this, notice that if there are <span class="math inline">\(n\)</span> beads in the urn, then we have <span class="math inline">\(np\)</span> <span class="math inline">\(a\)</span>s, <span class="math inline">\(n(1-p)\)</span> <span class="math inline">\(b\)</span>s and because the average is the sum, <span class="math inline">\(n\times a \times p + n\times b \times (1-p)\)</span>, divided by the total <span class="math inline">\(n\)</span>, we get that the average is <span class="math inline">\(ap + b(1-p)\)</span>.</p>
<p>Now the reason we define the expected value is because this mathematical definition turns out to be useful for approximating the probability distributions of sum, which then is useful for describing the distribution of averages and proportions. The first useful fact is that the expected value of the sum of the draws is:</p>
<p><span class="math display">\[
\mbox{number of draws } \times \mbox{ average of the numbers in the urn}
\]</span></p>
<p>So if 1,000 people play roulette, the casino expects to win, on average, about 1,000 <span class="math inline">\(\times\)</span> $0.05 = $50. But this is an expected value. How different can one observation be from the expected value? The casino really needs to know this. What is the range of possibilities? If negative numbers are too likely, they will not install roulette wheels. Statistical theory once again answers this question. The <em>standard error</em> (SE) gives us an idea of the size of the variation around the expected value. In statistics books, it’s common to use:</p>
<p><span class="math display">\[\mbox{SE}[X]\]</span></p>
<p>to denote the standard error of a random variable.</p>
<p><strong>If our draws are independent</strong>, then the standard error of the sum is given by the equation:</p>
<p><span class="math display">\[
\sqrt{\mbox{number of draws }} \times \mbox{ standard deviation of the numbers in the urn}
\]</span></p>
<p>Using the definition of standard deviation, we can derive, with a bit of math, that if a jar contains two values <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> with proportions <span class="math inline">\(p\)</span> and <span class="math inline">\((1-p)\)</span> respectively, the standard deviation is:</p>
<p><span class="math display">\[\mid b - a \mid \sqrt{p(1-p)}.\]</span></p>
<p>So in our roulette example, the standard deviation of the values inside the urn is: <span class="math inline">\(\mid 1 - (-1) \mid \sqrt{10/19 \times 9/19}\)</span> or</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">90</span>)<span class="op">/</span><span class="dv">19</span>
<span class="co">#&gt; [1] 0.999</span></code></pre></div>
<p>The standard error tells us the typical difference between a random variable and its expectation. Since one draw is obviously the sum of just one draw, we can use the formula above to calculate that the random variable defined by one draw has an expected value of 0.05 and a standard error of about 1. This makes sense since we either get 1 or -1, with 1 slightly favored over -1.</p>
<p>Using the formula above, the sum of 1,000 people playing has standard error of about $32:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">1000</span>
<span class="kw">sqrt</span>(n) <span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">90</span>)<span class="op">/</span><span class="dv">19</span>
<span class="co">#&gt; [1] 31.6</span></code></pre></div>
<p>As a result, when 1,000 people bet on red, the casino is expected to win $50 with a standard error of $32. It therefore seems like a safe bet. But we still haven’t answered the question: how likely is it to lose money? Here the CLT will help.</p>
<p><strong>Advanced note</strong>: Before continuing we should point out that exact probability calculations for the casino winnings can be performed with the binomial distribution. However, here we focus on the CLT which can be generally applied to sums of random variables in a way that the binomial distribution can’t.</p>
</div>
<div id="central-limit-theorem-approximation" class="section level2">
<h2><span class="header-section-number">28.7</span> Central Limit Theorem approximation</h2>
<p>The Central Limit Theorem (CLT) tells us that the sum <code>S</code> is approximated by a normal distribution. Using the formulas above, we know that the expected value and standard error are:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n <span class="op">*</span><span class="st"> </span>(<span class="dv">20</span><span class="op">-</span><span class="dv">18</span>)<span class="op">/</span><span class="dv">38</span> 
<span class="co">#&gt; [1] 52.6</span>
<span class="kw">sqrt</span>(n) <span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">90</span>)<span class="op">/</span><span class="dv">19</span> 
<span class="co">#&gt; [1] 31.6</span></code></pre></div>
<p>The theoretical values above match those obtained with the Monte Carlo simulation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(S)
<span class="co">#&gt; [1] 52.5</span>
<span class="kw">sd</span>(S)
<span class="co">#&gt; [1] 31.7</span></code></pre></div>
<p>Using the CLT, we can skip the Monte Carlo simulation and instead compute the probability of the casino losing money using this approximation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mu &lt;-<span class="st"> </span>n <span class="op">*</span><span class="st"> </span>(<span class="dv">20</span><span class="op">-</span><span class="dv">18</span>)<span class="op">/</span><span class="dv">38</span>
se &lt;-<span class="st">  </span><span class="kw">sqrt</span>(n) <span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">90</span>)<span class="op">/</span><span class="dv">19</span> 
<span class="kw">pnorm</span>(<span class="dv">0</span>, mu, se)
<span class="co">#&gt; [1] 0.0478</span></code></pre></div>
<p>which is also in very good agreement with our Monte Carlo result:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(S <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>)
<span class="co">#&gt; [1] 0.046</span></code></pre></div>
</div>
<div id="statistical-properties-of-averages" class="section level2">
<h2><span class="header-section-number">28.8</span> Statistical properties of averages</h2>
<p>There are two useful mathematical results that we used above and often employ when working with data. We list them below.</p>
<ol style="list-style-type: decimal">
<li><p>The expected value of the sum of random variables is the sum of each random variable’s expected value. We can write it like this:</p>
<p><span class="math display">\[ 
\mbox{E}[X_1+X_2+\dots+X_n] =  \mbox{E}[X_1] + \mbox{E}[X_2]+\dots+\mbox{E}[X_n]
\]</span></p>
<p>If the <span class="math inline">\(X\)</span> are independent draws from the urn, then they all have the same expected value. Let’s call it <span class="math inline">\(\mu\)</span> and thus:</p>
<p><span class="math display">\[ 
\mbox{E}[X_1+X_2+\dots+X_n]=  n\mu
\]</span></p>
<p>which is another way of writing the result we show above for the sum of draws.</p></li>
<li><p>The expected value of a non-random constant times a random variable is the non-random constant times the expected value of a random variable. This is easier to explain with symbols: <span class="math display">\[
\mbox{E}[aX] =  a\times\mbox{E}[X]
\]</span></p>
<p>To see why this is intuitive, consider change of units. If we change the units of a random variable, say from dollars to cents, the expectation should change in the same way. A consequence of the above two facts is that the expected value of the average of independent draws from the same urn is the expected value of the urn, call it <span class="math inline">\(\mu\)</span> again:</p>
<p><span class="math display">\[
\mbox{E}[(X_1+X_2+\dots+X_n) / n]=   \mbox{E}[X_1+X_2+\dots+X_n] / n = n\mu/n = \mu 
\]</span></p></li>
<li><p>The square of the standard error of the sum of <strong>independent</strong> random variables is the sum of the square of the standard error of each random variable. This one is easier to understand in math form: <span class="math display">\[ 
\mbox{SE}[X_1+X_2+\dots+X_n] = \sqrt{\mbox{SE}[X_1]^2 + \mbox{SE}[X_2]^2+\dots+\mbox{SE}[X_n]^2  }
\]</span></p>
<p>The square of the standard error is referred to as the <em>variance</em> in statistical textbooks.</p></li>
<li><p>The standard error of a non-random constant times a random variable is the non-random constant times the random variable’s standard error. As with the expectation: <span class="math display">\[
\mbox{SE}[aX] =  a \times \mbox{SE}[X]
\]</span></p>
<p>To see why this is intuitive, again think of units.</p>
<p>A consequence of 3 and 4 is that the standard error of the the average of independent draws from the same urn is the standard deviation of the urn divided by the square root of <span class="math inline">\(n\)</span> (the number of draws), call it <span class="math inline">\(\sigma\)</span>:</p></li>
</ol>
<p><span class="math display">\[
\begin{aligned}
\mbox{SE}[(X_1+X_2+\dots+X_n) / n] &amp;=   \mbox{SE}[X_1+X_2+\dots+X_n]/n \\
&amp;= \sqrt{\mbox{SE}[X_1]^2+\mbox{SE}[X_2]^2+\dots+\mbox{SE}[X_n]^2}/n \\
&amp;= \sqrt{\sigma^2+\sigma^2+\dots+\sigma^2}/n\\
&amp;= \sqrt{n\sigma^2}/n\\
&amp;= \sigma / \sqrt{n}    
\end{aligned}
\]</span></p>
<ol start="5" style="list-style-type: decimal">
<li>If <span class="math inline">\(X\)</span> is a normally distributed random variable, then if <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> are non-random constants, <span class="math inline">\(aX + b\)</span> is also a normally distributed random variable. All we are doing is changing the units of the random variable by multiplying by <span class="math inline">\(a\)</span>, then shifting the center by <span class="math inline">\(b\)</span>.</li>
</ol>
<div id="why-we-use-mu-and-sigma" class="section level3 unnumbered">
<h3>Why we use <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span></h3>
<p>Statistical textbooks use the Greek letters <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> to denote the expected value and standard error respectively. This is because <span class="math inline">\(\mu\)</span> is the Greek letter for <span class="math inline">\(m\)</span>, the first letter of <em>mean</em>, which is another term used for expected value. Similarly, <span class="math inline">\(\sigma\)</span> is the Greek letter for <span class="math inline">\(s\)</span>, the first letter of standard error.</p>
</div>
</div>
<div id="law-of-large-numbers" class="section level2">
<h2><span class="header-section-number">28.9</span> Law of large numbers</h2>
<p>An important implication of the final result is that the standard error of the average becomes smaller and smaller as <span class="math inline">\(n\)</span> grows larger. When <span class="math inline">\(n\)</span> is very large, then the standard error is practically 0 and the average of the draws converges to the average of the urn. This is known in statistical textbooks as the law of large numbers or the law of averages.</p>
<div id="misinterpreting-law-of-averages" class="section level3">
<h3><span class="header-section-number">28.9.1</span> Misinterpreting law of averages</h3>
<p>The law of averages is sometimes misinterpreted. For example, if you toss a coin 5 times and see a head each time, you might hear someone argue that the next toss is probably a tail because of the law of averages: on average we should see 50% heads and 50% tails. A similar argument would be to say that red “is due” on the roulette wheel after seeing black come up five times in a row. These events are independent so the chance of a coin landing heads is 50% regardless of the previous 5. This is also the case for the roulette outcome. The law of averages applies only when the number of draws is very large and not in small samples. After a million tosses, you will definitely see about 50% heads regardless of the outcome of the first five tosses.</p>
<p>Another funny misuse of the law of averages is in sports when TV sportscasters predict a player is about to succeed because they have failed a few times in a row.</p>
</div>
</div>
<div id="how-large-is-large-in-clt" class="section level2">
<h2><span class="header-section-number">28.10</span> How large is large in CLT?</h2>
<p>The CLT works when the number of draws is large. But large is a relative term. In many circumstances as few as 30 draws is enough to make the CLT useful. In some specific instances, as few as 10 is enough. However, these should not be considered general rules. Note, for example, that when the probability of success is very small, we need larger sample sizes.</p>
<p>By way of illustration, let’s consider the lottery. In the lottery, the chances of winning are less than 1 in a million. Thousands of people play so the number of draws is very large. Yet the number of winners, the sum of the draws, range between 0 and 4. This sum is certainly not well approximated by a normal distribution so the CLT does not apply, even with the very large sample size. This is generally true when the probability of a success is very low. In these cases, the Poisson distribution is more appropriate.</p>
<p>You can examine the properties of the Poisson distribution using <code>dpois</code> and <code>ppois</code>. You can generate random variables following this distribution with <code>rpois</code>. However, we do not cover the theory here. You can learn about the Poisson distribution in any probability textbook and even <a href="https://en.wikipedia.org/wiki/Poisson_distribution">Wikipedia</a>.</p>
</div>
<div id="population-sd-versus-the-sample-sd" class="section level2">
<h2><span class="header-section-number">28.11</span> Population SD versus the sample SD</h2>
<p>The standard deviation of a list <code>x</code> (we use heights as an example) is defined as the square root of the average of the squared differences:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dslabs)
x &lt;-<span class="st"> </span>heights<span class="op">$</span>height
m &lt;-<span class="st"> </span><span class="kw">mean</span>(x)
s &lt;-<span class="st"> </span><span class="kw">sqrt</span>(<span class="kw">mean</span>((x<span class="op">-</span>m)<span class="op">^</span><span class="dv">2</span>))</code></pre></div>
<p>Using mathematical notation we write:</p>
<p><span class="math display">\[
\mu = \frac{1}{n} \sum_{i=1}^n x_i \\
\sigma =  \sqrt{\frac{1}{n} \sum_{i=1}^n (x_i - \mu)^2}
\]</span></p>
<p>However, be aware that the <code>sd</code> function returns a slightly different result:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">identical</span>(s,<span class="kw">sd</span>(x))
<span class="co">#&gt; [1] FALSE</span>
s<span class="op">-</span><span class="kw">sd</span>(x)
<span class="co">#&gt; [1] -0.00194</span></code></pre></div>
<p>This is because the <code>sd</code> function R does not return the <code>sd</code> of the list, but rather uses a formula that estimates standard deviations of a population from a random sample <span class="math inline">\(X_1, \dots, X_N\)</span> which, for reasons not discussed here, divide by the <span class="math inline">\(N-1\)</span>.</p>
<p><span class="math display">\[
\bar{X} = \frac{1}{N} \sum_{i=1}^N X_i \\
s =  \sqrt{\frac{1}{N-1} \sum_{i=1}^N (X_i - \bar{X})^2}
\]</span></p>
<p>You can see that this is the case by typing:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">N &lt;-<span class="st"> </span><span class="kw">length</span>(x)
s<span class="op">-</span><span class="kw">sd</span>(x)<span class="op">*</span><span class="kw">sqrt</span>((N<span class="op">-</span><span class="dv">1</span>)<span class="op">/</span>N)
<span class="co">#&gt; [1] 0</span></code></pre></div>
<p>For all the theory discussed here, you need to compute the actual standard deviation as defined:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(<span class="kw">mean</span>((x<span class="op">-</span>m)<span class="op">^</span><span class="dv">2</span>))</code></pre></div>
<p>So be careful when using the <code>sd</code> function in R. However, keep in mind that throughout the book we sometimes use the <code>sd</code> function when we really want the actual SD. This is because when the list size is big, these two are practically equivalent since <span class="math inline">\(\sqrt{(N-1)/N}\)</span> is close to 1.</p>
</div>
<div id="exercises-14" class="section level2 unnumbered">
<h2>Exercises</h2>
<ol style="list-style-type: decimal">
<li><p>In American Roulette you can also bet on green. Remember there are 18 reds, 18 blacks and 2 greens (0 and 00). What are the chances the green comes out?</p></li>
<li><p>The payout for winning on green is $17 dollars. This means that if you bet a dollar and it lands on green, you get $17. Create a sampling model using sample to simulate the random variable <span class="math inline">\(X\)</span> for your winnings. Hint: see the example below for how it should look like when betting on red.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="op">-</span><span class="dv">1</span>), <span class="dv">1</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="dv">9</span><span class="op">/</span><span class="dv">19</span>, <span class="dv">10</span><span class="op">/</span><span class="dv">19</span>))</code></pre></div></li>
<li><p>Compute the expected value of <span class="math inline">\(X\)</span>.</p></li>
<li><p>Compute the standard error of <span class="math inline">\(X\)</span>.</p></li>
<li><p>Now create a random variable <span class="math inline">\(S\)</span> that is the sum of your winnings after betting on green 1000 times. Hint: change the argument <code>size</code> and <code>replace</code> in your answer to question 2. Start your code by setting the seed to 1 with <code>set.seed(1)</code>.</p></li>
<li><p>What is the expected value of <span class="math inline">\(S\)</span>?</p></li>
<li><p>What is the standard error of <span class="math inline">\(S\)</span>?</p></li>
<li><p>What is the probability that you end up winning money? Hint: use the CLT.</p></li>
<li><p>Create a Monte Carlo simulation that generates 10,000 outcomes of <span class="math inline">\(S\)</span>. Compute the average and standard deviation of the resulting list to confirm the results of 6 and 7. Start your code by setting the seed to 1 with <code>set.seed(1)</code>.</p></li>
<li><p>Now check your answer to 8 using the Monte Carlo result.</p></li>
<li>The Monte Carlo result and the CLT approximation are close, but not that close. What could account for this?
<ul>
<li>A. 10,000 simulations is not enough. If we do more, they match.</li>
<li>B. The CLT does not work as well when the probability of success is small. In this case, it was 1/19. If we make the number of roulette plays bigger, they will match better.</li>
<li>C. The difference is within rounding error.</li>
<li>D. The CLT only works for the averages.</li>
</ul></li>
<li><p>Now create a random variable <span class="math inline">\(Y\)</span> that is your average winnings per bet after playing off your winnings after betting on green 10,000 times.</p></li>
<li><p>What is the expected value of <span class="math inline">\(Y\)</span>?</p></li>
<li><p>What is the standard error of <span class="math inline">\(S\)</span>?</p></li>
<li><p>What is the probability that you end up winnings per game that are positive? Hint: use the CLT.</p></li>
<li><p>Create a Monte Carlo simulation that generates 2,500 outcomes of <span class="math inline">\(S\)</span>. Compute the average and standard deviation of the resulting list to confirm the results of 6 and 7. Start your code by setting the seed to 1 with <code>set.seed(1)</code></p></li>
<li><p>Now check your answer to 8 using the Monte Carlo result.</p></li>
<li>The Monte Carlo result and the CLT approximation are now much closer. What could account for this?
<ul>
<li>A. We are now computing averages instead of sums.</li>
<li>B. 2,500 Monte Carlo simulations is not better than 10,000.</li>
<li>C. The CLT does works better when the sample size is larger. We increased from 1,000 to 10,000.</li>
<li>D. It is not closer. The difference is within rounding error.</li>
</ul></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="continuous-probability.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="case-study-the-big-short.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dsbook/edit/master/prob/random-variables-sampling-models-clt.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
